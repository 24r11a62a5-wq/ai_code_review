<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AI Code Reviewer</title>
    <style>
        body {
            font-family: Arial;
            background: #0f172a;
            color: white;
            text-align: center;
            padding: 40px;
        }

        textarea, select, button {
            width: 80%;
            margin: 10px;
            padding: 12px;
            border-radius: 6px;
        }

        textarea {
            height: 200px;
        }

        button {
            background: #22c55e;
            border: none;
            font-size: 16px;
            cursor: pointer;
        }

        #result {
            background: #020617;
            padding: 20px;
            margin-top: 20px;
            white-space: pre-wrap;
        }
    </style>
</head>

<body>

<h1>ü§ñ AI Code Reviewer</h1>

<textarea id="code" placeholder="Paste your code here..."></textarea>

<select id="language">
    <option value="python">Python</option>
    <option value="java">Java</option>
    <option value="c++">C++</option>
    <option value="javascript">JavaScript</option>
</select>

<br>

<button onclick="reviewCode()">Review Code</button>

<div id="result"></div>

<script>
async function reviewCode() {

    const code = document.getElementById("code").value;
    const language = document.getElementById("language").value;

    document.getElementById("result").innerText = "‚è≥ Reviewing...";

    const response = await fetch("http://127.0.0.1:8000/review", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            code: code,
            language: language
        })
    });

    const data = await response.json();

    document.getElementById("result").innerText = data.review;
}
</script>

</body>
</html>
